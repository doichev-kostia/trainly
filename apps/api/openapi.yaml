openapi: 3.0.3
info:
  title: Trainly API
  description: Trainly API Documentation
  version: internal
components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
    AdminBearerAuth:
      type: http
      scheme: bearer
  schemas: {}
paths:
  /v1/addresses/{id}:
    get:
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
      responses:
        2XX:
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  createdAt:
                    type: string
                    format: date-time
                  country:
                    type: string
                  city:
                    type: string
                  street:
                    type: string
                  streetNumber:
                    type: string
                  index:
                    type: string
                required:
                  - id
                  - createdAt
                  - country
                  - city
                  - street
                  - streetNumber
                  - index
                additionalProperties: false
    patch:
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                country:
                  type: string
                  minLength: 1
                city:
                  type: string
                  minLength: 1
                street:
                  type: string
                  minLength: 1
                streetNumber:
                  type: string
                  minLength: 1
                index:
                  type: string
                  minLength: 1
              additionalProperties: false
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
      responses:
        2XX:
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  createdAt:
                    type: string
                    format: date-time
                  country:
                    type: string
                  city:
                    type: string
                  street:
                    type: string
                  streetNumber:
                    type: string
                  index:
                    type: string
                required:
                  - id
                  - createdAt
                  - country
                  - city
                  - street
                  - streetNumber
                  - index
                additionalProperties: false
  /v1/customers/:
    post:
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                firstName:
                  type: string
                  minLength: 2
                  maxLength: 255
                lastName:
                  type: string
                  minLength: 2
                  maxLength: 255
                email:
                  type: string
                  format: email
              required:
                - firstName
                - lastName
                - email
              additionalProperties: false
        required: true
      responses:
        2XX:
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  firstName:
                    type: string
                  lastName:
                    type: string
                  email:
                    type: string
                    format: email
                required:
                  - id
                  - firstName
                  - lastName
                  - email
                additionalProperties: false
    get:
      parameters:
        - schema:
            type: integer
            exclusiveMinimum: true
            minimum: 0
            default: 10
          in: query
          name: limit
          required: false
        - schema:
            type: integer
            minimum: 0
            default: 0
          in: query
          name: offset
          required: false
        - schema:
            type: string
          in: query
          name: email
          required: false
        - schema:
            type: array
            items:
              type: string
              enum:
                - bookings
          in: query
          name: expand
          required: true
      responses:
        2XX:
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                        firstName:
                          type: string
                        lastName:
                          type: string
                        email:
                          type: string
                          format: email
                      required:
                        - id
                        - firstName
                        - lastName
                        - email
                      additionalProperties: false
                  count:
                    type: number
                required:
                  - items
                  - count
                additionalProperties: false
  /v1/customers/{id}:
    get:
      parameters:
        - schema:
            type: array
            items:
              type: string
              enum:
                - bookings
          in: query
          name: expand
          required: true
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
      responses:
        2XX:
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  firstName:
                    type: string
                  lastName:
                    type: string
                  email:
                    type: string
                    format: email
                required:
                  - id
                  - firstName
                  - lastName
                  - email
                additionalProperties: false
    patch:
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                firstName:
                  type: string
                  minLength: 2
                  maxLength: 255
                lastName:
                  type: string
                  minLength: 2
                  maxLength: 255
                email:
                  type: string
                  format: email
              additionalProperties: false
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
      responses:
        2XX:
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  firstName:
                    type: string
                  lastName:
                    type: string
                  email:
                    type: string
                    format: email
                required:
                  - id
                  - firstName
                  - lastName
                  - email
                additionalProperties: false
    delete:
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
      responses:
        "200":
          description: Default Response
  /v1/trains/:
    post:
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  minLength: 1
                  maxLength: 255
                totalSeats:
                  type: integer
                  minimum: 1
                carriageCapacity:
                  type: integer
                  minimum: 1
                premiumCarriages:
                  type: integer
                  minimum: 0
              required:
                - name
                - totalSeats
                - carriageCapacity
                - premiumCarriages
              additionalProperties: false
        required: true
      security:
        - AdminBearerAuth: []
      responses:
        2XX:
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  createdAt:
                    type: string
                    format: date-time
                  name:
                    type: string
                  totalSeats:
                    type: integer
                  carriageCapacity:
                    type: integer
                  premiumCarriages:
                    type: integer
                required:
                  - id
                  - createdAt
                  - name
                  - totalSeats
                  - carriageCapacity
                  - premiumCarriages
                additionalProperties: false
    get:
      parameters:
        - schema:
            type: integer
            exclusiveMinimum: true
            minimum: 0
            default: 10
          in: query
          name: limit
          required: false
        - schema:
            type: integer
            minimum: 0
            default: 0
          in: query
          name: offset
          required: false
      responses:
        2XX:
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                        createdAt:
                          type: string
                          format: date-time
                        name:
                          type: string
                        totalSeats:
                          type: integer
                        carriageCapacity:
                          type: integer
                        premiumCarriages:
                          type: integer
                      required:
                        - id
                        - createdAt
                        - name
                        - totalSeats
                        - carriageCapacity
                        - premiumCarriages
                      additionalProperties: false
                  count:
                    type: number
                required:
                  - items
                  - count
                additionalProperties: false
  /v1/trains/{id}:
    get:
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
      responses:
        2XX:
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  createdAt:
                    type: string
                    format: date-time
                  name:
                    type: string
                  totalSeats:
                    type: integer
                  carriageCapacity:
                    type: integer
                  premiumCarriages:
                    type: integer
                required:
                  - id
                  - createdAt
                  - name
                  - totalSeats
                  - carriageCapacity
                  - premiumCarriages
                additionalProperties: false
    patch:
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  minLength: 1
                  maxLength: 255
                totalSeats:
                  type: integer
                  minimum: 1
                carriageCapacity:
                  type: integer
                  minimum: 1
                premiumCarriages:
                  type: integer
                  minimum: 0
              additionalProperties: false
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
      responses:
        2XX:
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  createdAt:
                    type: string
                    format: date-time
                  name:
                    type: string
                  totalSeats:
                    type: integer
                  carriageCapacity:
                    type: integer
                  premiumCarriages:
                    type: integer
                required:
                  - id
                  - createdAt
                  - name
                  - totalSeats
                  - carriageCapacity
                  - premiumCarriages
                additionalProperties: false
    delete:
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
      responses:
        "200":
          description: Default Response
  /v1/stations/:
    post:
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  minLength: 1
                  maxLength: 255
                address:
                  type: object
                  properties:
                    country:
                      type: string
                      minLength: 1
                    city:
                      type: string
                      minLength: 1
                    street:
                      type: string
                      minLength: 1
                    streetNumber:
                      type: string
                      minLength: 1
                    index:
                      type: string
                      minLength: 1
                  required:
                    - country
                    - city
                    - street
                    - streetNumber
                    - index
                  additionalProperties: false
              required:
                - name
                - address
              additionalProperties: false
        required: true
      responses:
        2XX:
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  createdAt:
                    type: string
                    format: date-time
                  name:
                    type: string
                  address:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                      createdAt:
                        type: string
                        format: date-time
                      country:
                        type: string
                      city:
                        type: string
                      street:
                        type: string
                      streetNumber:
                        type: string
                      index:
                        type: string
                    required:
                      - id
                      - createdAt
                      - country
                      - city
                      - street
                      - streetNumber
                      - index
                    additionalProperties: false
                required:
                  - id
                  - createdAt
                  - name
                additionalProperties: false
    get:
      parameters:
        - schema:
            type: integer
            exclusiveMinimum: true
            minimum: 0
            default: 10
          in: query
          name: limit
          required: false
        - schema:
            type: integer
            minimum: 0
            default: 0
          in: query
          name: offset
          required: false
        - schema:
            type: string
          in: query
          name: name
          required: false
        - schema:
            type: array
            items:
              type: string
              enum:
                - address
                - platforms
          in: query
          name: expand
          required: true
      responses:
        2XX:
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  items:
                    type: array
                    items:
                      type: object
                      properties:
                        id:
                          type: string
                          format: uuid
                        createdAt:
                          type: string
                          format: date-time
                        name:
                          type: string
                        address:
                          type: object
                          properties:
                            id:
                              type: string
                              format: uuid
                            createdAt:
                              type: string
                              format: date-time
                            country:
                              type: string
                            city:
                              type: string
                            street:
                              type: string
                            streetNumber:
                              type: string
                            index:
                              type: string
                          required:
                            - id
                            - createdAt
                            - country
                            - city
                            - street
                            - streetNumber
                            - index
                          additionalProperties: false
                      required:
                        - id
                        - createdAt
                        - name
                      additionalProperties: false
                  count:
                    type: number
                required:
                  - items
                  - count
                additionalProperties: false
  /v1/stations/{id}:
    get:
      parameters:
        - schema:
            type: array
            items:
              type: string
              enum:
                - address
                - platforms
          in: query
          name: expand
          required: true
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
      responses:
        2XX:
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  createdAt:
                    type: string
                    format: date-time
                  name:
                    type: string
                  address:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                      createdAt:
                        type: string
                        format: date-time
                      country:
                        type: string
                      city:
                        type: string
                      street:
                        type: string
                      streetNumber:
                        type: string
                      index:
                        type: string
                    required:
                      - id
                      - createdAt
                      - country
                      - city
                      - street
                      - streetNumber
                      - index
                    additionalProperties: false
                required:
                  - id
                  - createdAt
                  - name
                additionalProperties: false
    patch:
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                name:
                  type: string
                  minLength: 1
                  maxLength: 255
              additionalProperties: false
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
      responses:
        2XX:
          description: Default Response
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: string
                    format: uuid
                  createdAt:
                    type: string
                    format: date-time
                  name:
                    type: string
                  address:
                    type: object
                    properties:
                      id:
                        type: string
                        format: uuid
                      createdAt:
                        type: string
                        format: date-time
                      country:
                        type: string
                      city:
                        type: string
                      street:
                        type: string
                      streetNumber:
                        type: string
                      index:
                        type: string
                    required:
                      - id
                      - createdAt
                      - country
                      - city
                      - street
                      - streetNumber
                      - index
                    additionalProperties: false
                required:
                  - id
                  - createdAt
                  - name
                additionalProperties: false
    delete:
      parameters:
        - schema:
            type: string
            format: uuid
          in: path
          name: id
          required: true
      responses:
        "200":
          description: Default Response
servers:
  - url: http://localhost:8080
    description: Local development server
security:
  - BearerAuth: []
